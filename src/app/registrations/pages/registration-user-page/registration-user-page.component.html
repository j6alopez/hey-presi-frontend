<!-- Outer Row -->
<div class="card border-0 rounded-5 shadow-lg my-5">
  <div class="card-body p-0">
    <!-- Nested Row within Card Body -->
    <div class="row">
      <div class="col-12 p-5">
        <h3 class="my-3">Datos Usuario</h3>
        <h5 class="my-3">Registrate como vecino de tu comunidad</h5>
        <!-- Progressbar -->
        <div class="progress mb-3" role="progressbar" aria-label="Example 1px high" aria-valuenow="25" aria-valuemin="0"
          aria-valuemax="100" style="height: 4px">
          <div class="progress-bar bg-dark" style="width: 66%"></div>
        </div>

        <!-- Register Neighbor -->
        <form [formGroup]="userForm" (ngSubmit)="onSubmit()" autocomplete="off" class="row">
          <!-- role  -->
          <div class="col-12 my-3">
            <div class="form-floating">
              <select class="form-select" formControlName='role' id="role" aria-label="role" (change)="onChangeRole()">
                <option value="">-- Seleccione tipo de vecino --</option>
                @for (role of communityRoles; track $index) {
                <option [value]="role"> {{ 'COMMUNITY_ROLE.' + role.toString() | translate}}</option>
                }
              </select>
              <label for="floatingSelect">Vecino</label>
            </div>
          </div>

          <!-- community -->
          @if (showCommunityCode) {
          <div class="col-12 my-3">
            <div class="form-floating">
              <input type="text" formControlName="communityCode" class="form-control" id="communityCode" />
              <label for="communityCode">Código de comunidad</label>

              @if ( isNotValidField('communityCode') ) {
              <shared-error [message]="'Código no válido'"></shared-error>
              }
            </div>
          </div>
          }


          <!-- property -->
          <div class="col-12 my-3">
            <div class="form-floating">
              <input type="text" formControlName="property" class="form-control" id="property" />
              <label for="property">Piso</label>
              @if ( isNotValidField('property') ) {
                <shared-error [message]="'Código no válido'"></shared-error>
              }
            </div>
          </div>

          <!-- firstname -->
          <div class="col-12 col-md-6 my-3">
            <div class="form-floating">
              <input type="text" formControlName="firstname" class="form-control" id="firstname" />
              <label for="password">Nombre</label>

              @if ( isNotValidField('firstname') ) {
                <shared-error [message]="'Debe contener solo letras'"></shared-error>
              }
            </div>
          </div>

          <!-- surnames -->
          <div class="col-12 col-md-6 my-3">
            <div class="form-floating">
              <input type="text" formControlName="surnames" class="form-control" id="surnames" />
              <label for="surnames">Apellidos</label>
              @if ( isNotValidField('firstname') ) {
                <shared-error [message]="'Debe contener solo letras'"></shared-error>
              }
            </div>
          </div>

          <!-- email -->
          <div class="col-12 col-md-6 my-3">
            <div class="form-floating">
              <input type="email" formControlName="email" class="form-control" id="email" />
              <label for="email">Email</label>
              @if ( isNotValidField('email') ) {
                <shared-error [message]="'El email no es válido o ya existe'"></shared-error>
              }
            </div>
          </div>

          <!-- phoneNumber -->
          <div class="col-12 col-md-6 my-3">
            <div class="form-floating">
              <input type="tel" formControlName="phoneNumber" class="form-control" id="phoneNumber" />
              <label for="phoneNumber">Teléfono</label>
              @if ( isNotValidField('phoneNumber') ) {
                <shared-error [message]="'Debe ser un teléfono válido'"></shared-error>
              }
            </div>
          </div>

          <!-- password -->
          <div class="col-12 col-md-6 my-3">
            <div class="form-floating">
              <input type="text" formControlName="password" class="form-control" id="password" />
              <label for="password">Contraseña</label>
              @if ( isNotValidField('password') ) {
                <shared-error [message]="'Al menos 8 caracteres, con números y letras mayúscula'"></shared-error>
              }
            </div>
          </div>

          <!-- confirmPassword -->
          <div class="col-12 col-md-6 my-3">
            <div class="form-floating">
              <input type="password" formControlName="confirmPassword" class="form-control" id="confirmPassword" />
              <label for="confirmPassword">Repetir contraseña</label>
              @if ( isNotValidField('confirmPassword') ) {
                <shared-error [message]="'La contraseña no coincide'"></shared-error>
              }
            </div>

          </div>
          <div class="row justify-content-center d-flex">
            <div class="col-12 col-md-6 col-lg-4">
              <button type="submit" class="btn btn-primary text-center my-3 w-100" [disabled]="userForm.invalid">
                Siguiente
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
