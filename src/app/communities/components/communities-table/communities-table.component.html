<div class="table-responsive">
  <table class="table table-bordered w-100 communities-table">
    <thead class="table-light">
      <tr>
        @for (column of columnLabels.entries(); track $index) {
          <th class="communities-table-cell" 
            (click)="sortTable(column[0])"
            [ngClass]="{ 'sortable': !isActionColumn(column[0]) }"
          >
            {{ column[1] | translate }}
            @if (isDescendingSorting(column[0])) {
              <i class="bi bi-chevron-up text-primary"></i>
            }
            @if (isAscendingSorting(column[0])) {
              <i class="bi bi-chevron-down text-primary"></i>
            }
            @if (isNotSorted(column[0])) {
              <i class="bi bi-chevron-expand text-primary"></i>
            }
          </th>
        }
    </thead>
    <tbody>
      @for (community of communities(); track $index) {
      <tr>
        <td class="communities-table-cell">{{community.createdAt | date:'mediumDate'}}</td>
        <td class="communities-table-cell fw-bold">{{community.address.street}}</td>
        <td class="communities-table-cell">{{community.address.region.name}}</td>
        <td class="communities-table-cell">{{community.address.subregion.name}}</td>
        <td class="communities-table-cell">{{community.address.city.name}}</td>
        <td>
          <community-action [communityId]="community.id"></community-action>
          <button class="btn btn-icon" type="button">
            <i class="bi bi-trash3"></i>
          </button>
        </td>
      </tr>
      }
    </tbody>
  </table>
</div>
