<div [formGroup]="formGroup()" class="table-responsive">
  <table class="table building-units-table ">
    <thead class="table-light">
      <tr>
        @for (column of columnLabels.entries(); track $index) {
        <th class="building-units-table-cell" (click)="sortTable(column[0])"
          [ngClass]="{ 'sortable': !isActionColumn(column[0]) }">
          {{ column[1] | translate }}
          @if (isDescendingSorting(column[0])) {
          <i class="bi bi-chevron-up text-primary"></i>
          }
          @if (isAscendingSorting(column[0])) {
          <i class="bi bi-chevron-down text-primary"></i>
          }
          @if (isNotSorted(column[0])) {
          <i class="bi bi-chevron-expand text-primary"></i>
          }
        </th>
        }
    </thead>
    <tbody formArrayName="units">
      @for (control of buildingUnits().controls; track $index) {
      <tr [formGroupName]="$index">
        <!-- address -->
        <td>
          <div class="my-3">
            <input type="text" formControlName="address" class="form-control" id="address" />
          </div>
        </td>

        <!-- type -->
        <td>
          <select class="form-control my-3" formControlName='type' id="type">
            @for (item of buildingUnitTypes | keyvalue; track $index) {
            <option [value]="item.key">{{item.value}}</option>
            }
          </select>

        </td>

        <!-- coefficient -->
        <td>
          <div class="my-3 input-group">
            <input type="number" formControlName="coefficient" min="0" class="form-control" id="coefficient" />
            <span class="input-group-text"><small>m2</small></span>
          </div>
        </td> -->

      </tr>
      }
    </tbody>
  </table>
</div>
